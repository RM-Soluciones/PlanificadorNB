{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Escritorio\\\\Desktop\\\\PlanificadorNB\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// App.js\nimport React, { useState, useRef, useEffect, useMemo } from \"react\";\nimport { supabase } from './supabaseClient';\nimport \"./App.css\";\nimport Select from 'react-select';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport GestionRecursos from './GestionRecursos';\nimport AdministracionDatos from './AdministracionDatos';\n\n// Opciones de servicio con colores\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst servicioOptions = [{\n  value: 'IN OUT',\n  label: 'IN OUT',\n  color: '#7FC6E7'\n},\n// CELESTE\n{\n  value: 'SUBIDA',\n  label: 'SUBIDA',\n  color: '#27AE60'\n},\n// VERDE\n{\n  value: 'BAJADA',\n  label: 'BAJADA',\n  color: '#EB5757'\n},\n// ROJO\n{\n  value: 'STAND BY',\n  label: 'STAND BY',\n  color: '#F2C94C'\n} // AMARILLO\n];\n\n// Datos iniciales para el formulario\nconst initialFormData = {\n  cliente: '',\n  servicio: null,\n  unidades: [{\n    movil: '',\n    choferes: ['', '', '']\n  }],\n  origen: '',\n  destino: '',\n  horario: '',\n  observaciones: ''\n};\n\n// Función para formatear la fecha en YYYY-MM-DD\nconst formatDateForInput = date => {\n  const offset = date.getTimezoneOffset();\n  const localDate = new Date(date.getTime() - offset * 60 * 1000);\n  return localDate.toISOString().split('T')[0];\n};\n\n// Arrays de días de la semana y meses en español\nconst daysOfWeek = ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'];\nconst monthsOfYear = ['enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio', 'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'];\n\n// Componentes separados\n\nconst DayCard = ({\n  dayData,\n  dateKey,\n  servicesForDay,\n  addService,\n  setExpandedService,\n  filters,\n  services,\n  isAuthenticated\n}) => {\n  const {\n    day,\n    month,\n    year\n  } = dayData;\n\n  // Crear un objeto Date\n  const date = new Date(year, month - 1, day);\n\n  // Obtener el día de la semana y formatear la fecha\n  const dayOfWeek = daysOfWeek[date.getDay()];\n  const formattedDate = `${dayOfWeek} ${day}/${month}`;\n\n  // Filtrar los servicios según los filtros seleccionados\n  const filteredServices = servicesForDay === null || servicesForDay === void 0 ? void 0 : servicesForDay.filter(service => {\n    // Filtrar por chofer\n    const matchesChofer = filters.chofer ? service.unidades.some(unidad => unidad.choferes.includes(filters.chofer)) : true;\n    // Filtrar por móvil\n    const matchesMovil = filters.movil ? service.unidades.some(unidad => unidad.movil === filters.movil) : true;\n    return matchesChofer && matchesMovil;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"day-card\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"day-card-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: formattedDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"add-service-btn\",\n        onClick: () => addService(dateKey),\n        children: \"+ Servicio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"service-list\",\n        children: filteredServices && filteredServices.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"service-list-items\",\n          children: filteredServices.map((service, index) => /*#__PURE__*/_jsxDEV(ServiceCard, {\n            service: service,\n            index: index,\n            dateKey: dateKey,\n            setExpandedService: setExpandedService,\n            services: services\n          }, service.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 9\n  }, this);\n};\n_c = DayCard;\nconst ServiceCard = ({\n  service,\n  setExpandedService\n}) => {\n  var _service$unidades;\n  // Obtener el color asociado al tipo de servicio\n  const serviceOption = servicioOptions.find(option => option.value === service.servicio);\n  const serviceColor = serviceOption ? serviceOption.color : '#FFFFFF';\n\n  // Manejar el clic en la tarjeta\n  const handleCardClick = () => {\n    setExpandedService(service);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"service-card clickable\",\n    style: {\n      backgroundColor: serviceColor\n    },\n    onClick: handleCardClick,\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      children: [service.cliente, \", \", serviceOption === null || serviceOption === void 0 ? void 0 : serviceOption.label]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this), (_service$unidades = service.unidades) === null || _service$unidades === void 0 ? void 0 : _service$unidades.map((unidad, idx) => /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        className: \"movil-highlight\",\n        children: unidad.movil\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 21\n      }, this), \", \", unidad.choferes.filter(Boolean).join(', ')]\n    }, idx, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [service.origen, \" - \", service.destino]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: service.horario\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 9\n  }, this);\n};\n_c2 = ServiceCard;\nconst ServiceForm = ({\n  editingService,\n  formData,\n  setFormData,\n  addUnidad,\n  handleInputChange,\n  handleArrayInputChange,\n  handleChoferInputChange,\n  saveService,\n  updateService,\n  setShowForm,\n  setEditingService,\n  services,\n  showForm,\n  choferesOptions,\n  movilesOptions\n}) => {\n  // Obtener la fecha actual del formulario\n  const [year, month, day] = showForm.split('-');\n\n  // Función para obtener el estado de disponibilidad\n  const getAvailability = (type, name) => {\n    let isOccupied = false;\n    const dateKey = `${year}-${month}-${day}`;\n    const servicesForDay = services[dateKey] || [];\n    servicesForDay.forEach(service => {\n      if (editingService && service.id === editingService.id) return; // Ignorar el servicio que se está editando\n      service.unidades.forEach(unidad => {\n        if (type === 'chofer') {\n          unidad.choferes.forEach(chofer => {\n            if (chofer === name) {\n              isOccupied = true;\n            }\n          });\n        } else if (type === 'movil') {\n          if (unidad.movil === name) {\n            isOccupied = true;\n          }\n        }\n      });\n    });\n    return isOccupied;\n  };\n\n  // Estilos para react-select\n  const customStyles = {\n    option: (provided, {\n      data\n    }) => ({\n      ...provided,\n      color: data.isOccupied ? 'red' : 'green'\n    }),\n    singleValue: (provided, {\n      data\n    }) => ({\n      ...provided,\n      color: data.isOccupied ? 'red' : 'green'\n    })\n  };\n\n  // Función para eliminar una unidad\n  const removeUnidad = index => {\n    setFormData(prevData => {\n      const updatedUnidades = [...prevData.unidades];\n      updatedUnidades.splice(index, 1);\n      return {\n        ...prevData,\n        unidades: updatedUnidades\n      };\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: editingService ? \"Editar servicio\" : \"Añadir servicio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Cliente:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"cliente\",\n      value: formData.cliente,\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Servicio:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Select, {\n      options: servicioOptions,\n      onChange: selectedOption => setFormData({\n        ...formData,\n        servicio: selectedOption.value\n      }),\n      value: servicioOptions.find(option => option.value === formData.servicio),\n      placeholder: \"Seleccione un servicio...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }, this), formData.unidades.map((unidad, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"unidad-box\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Movil:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        options: movilesOptions.map(movil => ({\n          value: movil.value,\n          label: movil.label,\n          isOccupied: getAvailability('movil', movil.value)\n        })),\n        styles: customStyles,\n        onChange: selectedOption => handleArrayInputChange(selectedOption.value, index, 'movil', 'unidades'),\n        value: movilesOptions.find(movil => movil.value === unidad.movil),\n        placeholder: \"Seleccione un m\\xF3vil...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 21\n      }, this), unidad.choferes.map((choferValue, choferIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: `Chofer ${choferIndex + 1}:`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Select, {\n          options: choferesOptions.map(choferOption => ({\n            value: choferOption.value,\n            label: choferOption.label,\n            isOccupied: getAvailability('chofer', choferOption.value)\n          })),\n          styles: customStyles,\n          onChange: selectedOption => handleChoferInputChange(selectedOption.value, index, choferIndex),\n          value: choferesOptions.find(c => c.value === choferValue),\n          placeholder: \"Seleccione un chofer...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 29\n        }, this)]\n      }, choferIndex, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 25\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => removeUnidad(index),\n        className: \"button delete-btn\",\n        children: \"Eliminar Unidad\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 21\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addUnidad,\n      className: \"button add-more-btn\",\n      children: \"+ A\\xF1adir otra unidad\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Origen:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"origen\",\n      value: formData.origen,\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Destino:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"destino\",\n      value: formData.destino,\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Horario:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"time\",\n      name: \"horario\",\n      value: formData.horario,\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Observaciones:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"observaciones\",\n      value: formData.observaciones,\n      onChange: handleInputChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }, this), editingService ? /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: updateService,\n      className: \"button save-btn\",\n      children: \"Actualizar Servicio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: saveService,\n      className: \"button save-btn\",\n      children: \"Guardar Servicio\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        setShowForm(null);\n        setEditingService(null);\n        setFormData(initialFormData);\n      },\n      className: \"button cancel-btn\",\n      children: \"Cerrar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 289,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 9\n  }, this);\n};\n_c3 = ServiceForm;\nconst ServiceModal = ({\n  expandedService,\n  setExpandedService,\n  editService,\n  isAuthenticated,\n  deleteService\n}) => {\n  var _expandedService$unid;\n  // Obtener el color asociado al tipo de servicio\n  const serviceOption = servicioOptions.find(option => option.value === expandedService.servicio);\n  const serviceColor = serviceOption ? serviceOption.color : '#FFFFFF';\n\n  // Definir dateKey aquí\n  const dateKey = `${expandedService.year}-${expandedService.month}-${expandedService.day}`;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-backdrop\",\n    onClick: () => setExpandedService(null),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content\",\n      onClick: e => e.stopPropagation(),\n      style: {\n        backgroundColor: serviceColor\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Detalles del Servicio\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Cliente:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 20\n        }, this), \" \", expandedService.cliente]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Servicio:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 20\n        }, this), \" \", serviceOption === null || serviceOption === void 0 ? void 0 : serviceOption.label]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 17\n      }, this), (_expandedService$unid = expandedService.unidades) === null || _expandedService$unid === void 0 ? void 0 : _expandedService$unid.map((unidad, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"M\\xF3vil:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 28\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"movil-highlight-modal\",\n            children: unidad.movil\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 52\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 25\n        }, this), unidad.choferes.map((chofer, choferIndex) => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [\"Chofer \", choferIndex + 1, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 50\n          }, this), \" \", chofer]\n        }, choferIndex, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 29\n        }, this))]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Origen:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 20\n        }, this), \" \", expandedService.origen, \" - \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Destino:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 72\n        }, this), \" \", expandedService.destino]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Horario:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 20\n        }, this), \" \", expandedService.horario]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Observaciones:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 20\n        }, this), \" \", expandedService.observaciones]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 17\n      }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button edit-btn\",\n          onClick: () => {\n            editService(expandedService);\n            setExpandedService(null);\n          },\n          children: \"Editar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button delete-btn\",\n          onClick: () => deleteService(expandedService.id, dateKey),\n          children: \"Eliminar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button close-btn\",\n        onClick: () => setExpandedService(null),\n        children: \"Cerrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 307,\n    columnNumber: 9\n  }, this);\n};\n_c4 = ServiceModal;\nconst Semaforo = ({\n  selectedDate,\n  choferesList,\n  movilesList,\n  services\n}) => {\n  // Formatear la fecha seleccionada\n  const year = selectedDate.getFullYear();\n  const month = selectedDate.getMonth() + 1; // Los meses en JavaScript van de 0 a 11\n  const day = selectedDate.getDate();\n  const dateKey = `${year}-${month}-${day}`;\n  const servicesForDay = services[dateKey] || [];\n\n  // Obtener listas de choferes y móviles ocupados\n  const choferesOcupados = new Set();\n  const movilesOcupados = new Set();\n  servicesForDay.forEach(service => {\n    service.unidades.forEach(unidad => {\n      if (unidad.movil) {\n        movilesOcupados.add(unidad.movil);\n      }\n      unidad.choferes.forEach(chofer => {\n        if (chofer) {\n          choferesOcupados.add(chofer);\n        }\n      });\n    });\n  });\n\n  // Opciones para los selectores\n  const choferesSemaforoOptions = choferesList.map(chofer => ({\n    value: chofer,\n    label: chofer,\n    isOccupied: choferesOcupados.has(chofer)\n  }));\n  const movilesSemaforoOptions = movilesList.map(movil => ({\n    value: movil,\n    label: movil,\n    isOccupied: movilesOcupados.has(movil)\n  }));\n\n  // Estilos para react-select\n  const customStyles = {\n    option: (provided, {\n      data\n    }) => ({\n      ...provided,\n      color: data.isOccupied ? 'red' : 'green'\n    }),\n    multiValueLabel: (provided, {\n      data\n    }) => ({\n      ...provided,\n      color: data.isOccupied ? 'red' : 'green'\n    })\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"semaforo-dropdowns\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [\"Disponibilidad para \", day, \"/\", month, \"/\", year]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"semaforo-dropdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Choferes:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 406,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        options: choferesSemaforoOptions,\n        styles: customStyles,\n        isMulti: true,\n        isClearable: true,\n        placeholder: \"Seleccione choferes...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"semaforo-dropdown\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"M\\xF3viles:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        options: movilesSemaforoOptions,\n        styles: customStyles,\n        isMulti: true,\n        isClearable: true,\n        placeholder: \"Seleccione m\\xF3viles...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 415,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 403,\n    columnNumber: 9\n  }, this);\n};\n_c5 = Semaforo;\nconst LoginForm = ({\n  handleLogin,\n  setShowLoginForm\n}) => {\n  _s();\n  const [password, setPassword] = useState('');\n  const onSubmit = e => {\n    e.preventDefault();\n    handleLogin(password);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-backdrop\",\n    onClick: () => setShowLoginForm(false),\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-content login-modal\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Iniciar Sesi\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        className: \"login-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Contrase\\xF1a:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"button login-submit-btn\",\n          children: \"Entrar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button close-btn\",\n        onClick: () => setShowLoginForm(false),\n        children: \"Cerrar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 438,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginForm, \"Y/4oil5yuJ8nKfSTE84bnqMxt48=\");\n_c6 = LoginForm;\nfunction App() {\n  _s2();\n  const currentYear = new Date().getFullYear();\n  const currentMonth = new Date().getMonth() + 1;\n  const currentDay = new Date().getDate();\n  const [viewedMonthIndex, setViewedMonthIndex] = useState(currentMonth - 1);\n  const [services, setServices] = useState({});\n  const [showForm, setShowForm] = useState(null);\n  const [editingService, setEditingService] = useState(null);\n  const [expandedService, setExpandedService] = useState(null);\n  const [formData, setFormData] = useState(initialFormData);\n  const [filters, setFilters] = useState({\n    chofer: null,\n    movil: null\n  });\n  const [selectedSemaforoDate, setSelectedSemaforoDate] = useState(new Date());\n  const [reportFilterType, setReportFilterType] = useState('cliente');\n  const [reportFilterValue, setReportFilterValue] = useState(null);\n  const [reportStartDate, setReportStartDate] = useState(null);\n  const [reportEndDate, setReportEndDate] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [showLoginForm, setShowLoginForm] = useState(false);\n  const [activeTab, setActiveTab] = useState('planificador'); // 'planificador', 'recursos', 'administracion'\n\n  // Listas dinámicas de choferes y móviles\n  const [choferesList, setChoferesList] = useState([]);\n  const [movilesList, setMovilesList] = useState([]);\n\n  // Crear opciones para react-select\n  const choferesOptions = choferesList.map(chofer => ({\n    value: chofer,\n    label: chofer\n  }));\n  const movilesOptions = movilesList.map(movil => ({\n    value: movil,\n    label: movil\n  }));\n  const daysInYear = useMemo(() => {\n    const rangeYears = 2; // Número de años a cubrir (año actual y próximo año)\n    let days = [];\n    for (let year = currentYear; year < currentYear + rangeYears; year++) {\n      for (let month = 1; month <= 12; month++) {\n        const daysInMonth = new Date(year, month, 0).getDate();\n        for (let day = 1; day <= daysInMonth; day++) {\n          days.push({\n            day,\n            month,\n            year\n          });\n        }\n      }\n    }\n    return days;\n  }, [currentYear]);\n  const scrollContainerRef = useRef(null);\n  const fetchServices = async () => {\n    const {\n      data: servicesData,\n      error\n    } = await supabase.from('services').select('*');\n    if (error) {\n      console.error('Error al obtener los servicios:', error);\n    } else {\n      const formattedServices = servicesData.reduce((acc, service) => {\n        const dateKey = `${service.year}-${service.month}-${service.day}`;\n        const updatedService = {\n          ...service\n        };\n        if (!acc[dateKey]) {\n          acc[dateKey] = [];\n        }\n        acc[dateKey].push(updatedService);\n        return acc;\n      }, {});\n      setServices(formattedServices);\n    }\n  };\n\n  // Función para cargar choferes y móviles desde Supabase\n  const fetchRecursos = async () => {\n    // Cargar choferes\n    const {\n      data: choferesData,\n      error: choferesError\n    } = await supabase.from('choferes').select('nombre').order('nombre', {\n      ascending: true\n    });\n    if (choferesError) {\n      console.error('Error al cargar choferes:', choferesError);\n    } else {\n      setChoferesList(choferesData.map(c => c.nombre));\n    }\n\n    // Cargar móviles\n    const {\n      data: movilesData,\n      error: movilesError\n    } = await supabase.from('moviles').select('nombre').order('nombre', {\n      ascending: true\n    });\n    if (movilesError) {\n      console.error('Error al cargar móviles:', movilesError);\n    } else {\n      setMovilesList(movilesData.map(m => m.nombre));\n    }\n  };\n  useEffect(() => {\n    fetchServices();\n    fetchRecursos(); // Cargar choferes y móviles al iniciar\n\n    const subscription = supabase.channel('public:services').on('postgres_changes', {\n      event: '*',\n      schema: 'public',\n      table: 'services'\n    }, payload => {\n      console.log('Cambio en tiempo real:', payload);\n      const oldServiceData = payload.old || {};\n      const newServiceData = payload.new || {};\n      const oldDateKey = `${oldServiceData.year}-${oldServiceData.month}-${oldServiceData.day}`;\n      const newDateKey = `${newServiceData.year}-${newServiceData.month}-${newServiceData.day}`;\n      setServices(prevServices => {\n        const updatedServices = {\n          ...prevServices\n        };\n        switch (payload.eventType) {\n          case 'INSERT':\n            if (!updatedServices[newDateKey]) {\n              updatedServices[newDateKey] = [];\n            }\n            updatedServices[newDateKey].push(newServiceData);\n            break;\n          case 'UPDATE':\n            // Eliminar de todos los dateKeys posibles\n            Object.keys(updatedServices).forEach(key => {\n              updatedServices[key] = updatedServices[key].filter(service => service.id !== newServiceData.id);\n              if (updatedServices[key].length === 0) {\n                delete updatedServices[key];\n              }\n            });\n            // Agregar al nuevo dateKey\n            if (!updatedServices[newDateKey]) {\n              updatedServices[newDateKey] = [];\n            }\n            updatedServices[newDateKey].push(newServiceData);\n            break;\n          case 'DELETE':\n            if (updatedServices[oldDateKey]) {\n              updatedServices[oldDateKey] = updatedServices[oldDateKey].filter(service => service.id !== oldServiceData.id);\n              if (updatedServices[oldDateKey].length === 0) {\n                delete updatedServices[oldDateKey];\n              }\n            }\n            break;\n          default:\n            break;\n        }\n        return updatedServices;\n      });\n    }).subscribe();\n    return () => {\n      supabase.removeChannel(subscription);\n    };\n  }, []);\n  useEffect(() => {\n    // Desplazar al día actual solo al cargar la aplicación\n    const scrollContainer = scrollContainerRef.current;\n    if (scrollContainer && !showForm && !editingService && !expandedService) {\n      const currentDayIndex = daysInYear.findIndex(day => day.month === currentMonth && day.day === currentDay);\n      if (currentDayIndex !== -1) {\n        const dayCardWidth = scrollContainer.scrollWidth / daysInYear.length;\n        scrollContainer.scrollTo({\n          left: currentDayIndex * dayCardWidth,\n          behavior: 'smooth'\n        });\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [daysInYear, currentMonth, currentDay, showForm, editingService, expandedService]);\n  useEffect(() => {\n    const scrollContainer = scrollContainerRef.current;\n    if (!scrollContainer) return;\n    let isDown = false;\n    let startX;\n    let scrollLeftPos;\n    const mouseDownHandler = e => {\n      isDown = true;\n      scrollContainer.classList.add('active');\n      startX = e.pageX - scrollContainer.offsetLeft;\n      scrollLeftPos = scrollContainer.scrollLeft;\n    };\n    const mouseLeaveHandler = () => {\n      isDown = false;\n      scrollContainer.classList.remove('active');\n    };\n    const mouseUpHandler = () => {\n      isDown = false;\n      scrollContainer.classList.remove('active');\n    };\n    const mouseMoveHandler = e => {\n      if (!isDown) return;\n      e.preventDefault();\n      const x = e.pageX - scrollContainer.offsetLeft;\n      const walk = (x - startX) * 1; // Ajusta el multiplicador según la velocidad que desees\n      scrollContainer.scrollLeft = scrollLeftPos - walk;\n    };\n\n    // Manejadores para dispositivos táctiles\n    const touchStartHandler = e => {\n      isDown = true;\n      scrollContainer.classList.add('active');\n      startX = e.touches[0].pageX - scrollContainer.offsetLeft;\n      scrollLeftPos = scrollContainer.scrollLeft;\n    };\n    const touchEndHandler = () => {\n      isDown = false;\n      scrollContainer.classList.remove('active');\n    };\n    const touchMoveHandler = e => {\n      if (!isDown) return;\n      const x = e.touches[0].pageX - scrollContainer.offsetLeft;\n      const walk = (x - startX) * 1; // Ajusta el multiplicador según la velocidad que desees\n      scrollContainer.scrollLeft = scrollLeftPos - walk;\n    };\n    scrollContainer.addEventListener('mousedown', mouseDownHandler);\n    scrollContainer.addEventListener('mouseleave', mouseLeaveHandler);\n    scrollContainer.addEventListener('mouseup', mouseUpHandler);\n    scrollContainer.addEventListener('mousemove', mouseMoveHandler);\n    scrollContainer.addEventListener('touchstart', touchStartHandler);\n    scrollContainer.addEventListener('touchend', touchEndHandler);\n    scrollContainer.addEventListener('touchmove', touchMoveHandler);\n    return () => {\n      scrollContainer.removeEventListener('mousedown', mouseDownHandler);\n      scrollContainer.removeEventListener('mouseleave', mouseLeaveHandler);\n      scrollContainer.removeEventListener('mouseup', mouseUpHandler);\n      scrollContainer.removeEventListener('mousemove', mouseMoveHandler);\n      scrollContainer.removeEventListener('touchstart', touchStartHandler);\n      scrollContainer.removeEventListener('touchend', touchEndHandler);\n      scrollContainer.removeEventListener('touchmove', touchMoveHandler);\n    };\n  }, []);\n  const saveServiceToDatabase = async serviceData => {\n    const dataToSave = {\n      ...serviceData\n    };\n    const {\n      error\n    } = await supabase.from('services').insert([dataToSave]);\n    if (error) {\n      console.error('Error al guardar el servicio:', error);\n      alert(`Error al guardar el servicio: ${error.message}`);\n    } else {\n      alert('Servicio guardado exitosamente.');\n    }\n  };\n  const updateServiceInDatabase = async serviceData => {\n    const {\n      id,\n      ...rest\n    } = serviceData;\n    // eslint-disable-next-line\n    const {\n      data,\n      error\n    } = await supabase.from('services').update(rest).eq('id', id);\n    // eslint-disable-next-line\n    if (error) {\n      console.error('Error al actualizar el servicio:', error);\n      alert(`Error al actualizar el servicio: ${error.message}`);\n    } else {\n      alert('Servicio actualizado exitosamente.');\n      // Actualizar el estado local\n      setServices(prevServices => {\n        const updatedServices = {\n          ...prevServices\n        };\n        const dateKey = `${rest.year}-${rest.month}-${rest.day}`;\n\n        // Remover el servicio de su ubicación anterior si cambió de fecha\n        Object.keys(updatedServices).forEach(key => {\n          updatedServices[key] = updatedServices[key].filter(service => service.id !== id);\n          if (updatedServices[key].length === 0) {\n            delete updatedServices[key];\n          }\n        });\n\n        // Añadir el servicio actualizado a la nueva fecha\n        if (!updatedServices[dateKey]) {\n          updatedServices[dateKey] = [];\n        }\n        updatedServices[dateKey].push({\n          ...rest,\n          id\n        });\n        return updatedServices;\n      });\n    }\n  };\n  const deleteService = async (serviceId, dateKey) => {\n    if (!window.confirm('¿Estás seguro de que deseas eliminar este servicio?')) {\n      return;\n    }\n    const {\n      error\n    } = await supabase.from('services').delete().eq('id', serviceId);\n    if (error) {\n      console.error('Error al eliminar el servicio:', error);\n      alert(`Error al eliminar el servicio: ${error.message}`);\n    } else {\n      alert('Servicio eliminado exitosamente.');\n      // Actualizar el estado local\n      setServices(prevServices => {\n        const updatedServices = {\n          ...prevServices\n        };\n        if (updatedServices[dateKey]) {\n          updatedServices[dateKey] = updatedServices[dateKey].filter(service => service.id !== serviceId);\n          if (updatedServices[dateKey].length === 0) {\n            delete updatedServices[dateKey];\n          }\n        }\n        return updatedServices;\n      });\n      setExpandedService(null); // Cerrar el modal después de eliminar\n    }\n  };\n  const addUnidad = () => {\n    setFormData(prevData => ({\n      ...prevData,\n      unidades: [...prevData.unidades, {\n        movil: '',\n        choferes: ['', '', '']\n      }]\n    }));\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n  const handleArrayInputChange = (value, index, field, type) => {\n    const updatedData = formData[type].map((item, i) => i === index ? {\n      ...item,\n      [field]: value\n    } : item);\n    setFormData(prevData => ({\n      ...prevData,\n      [type]: updatedData\n    }));\n  };\n  const handleChoferInputChange = (value, unidadIndex, choferIndex) => {\n    const updatedChoferes = [...formData.unidades[unidadIndex].choferes];\n    updatedChoferes[choferIndex] = value;\n    const updatedUnidades = [...formData.unidades];\n    updatedUnidades[unidadIndex].choferes = updatedChoferes;\n    setFormData(prevData => ({\n      ...prevData,\n      unidades: updatedUnidades\n    }));\n  };\n  const saveService = () => {\n    if (!showForm) return; // Prevent if no dateKey\n\n    const [year, month, day] = showForm.split('-');\n    const serviceData = {\n      ...formData,\n      year: parseInt(year),\n      month: parseInt(month),\n      day: parseInt(day)\n    };\n    saveServiceToDatabase(serviceData);\n    setShowForm(null);\n    setFormData(initialFormData);\n  };\n  const updateService = () => {\n    const serviceData = {\n      ...formData,\n      id: editingService.id\n    };\n    updateServiceInDatabase(serviceData);\n    setShowForm(null);\n    setEditingService(null);\n    setFormData(initialFormData);\n  };\n  const editService = service => {\n    setFormData({\n      cliente: service.cliente,\n      servicio: service.servicio,\n      unidades: service.unidades,\n      origen: service.origen,\n      destino: service.destino,\n      horario: service.horario,\n      observaciones: service.observaciones,\n      year: service.year,\n      month: service.month,\n      day: service.day\n    });\n    setEditingService(service);\n    setShowForm(`${service.year}-${service.month}-${service.day}`);\n  };\n  const jumpToMonth = event => {\n    const selectedMonth = parseInt(event.target.value, 10) + 1; // +1 porque los meses en JavaScript son 0-based\n    setViewedMonthIndex(selectedMonth - 1);\n    const firstDayOfMonthIndex = daysInYear.findIndex(day => day.month === selectedMonth && day.day === 1);\n    const scrollContainer = scrollContainerRef.current;\n    if (scrollContainer) {\n      const dayCardWidth = scrollContainer.clientWidth / getDaysPerView();\n      scrollContainer.scrollTo({\n        left: firstDayOfMonthIndex * dayCardWidth,\n        behavior: 'smooth'\n      });\n    }\n  };\n  const getDaysPerView = () => {\n    const width = window.innerWidth;\n    if (width >= 1200) return 7; // Pantallas grandes\n    if (width >= 768) return 5; // Pantallas medianas\n    return 2; // Pantallas pequeñas\n  };\n\n  // Obtener el nombre del mes actual\n  const displayedMonthName = monthsOfYear[viewedMonthIndex];\n  const addService = dateKey => {\n    setFormData(initialFormData);\n    setEditingService(null);\n    setShowForm(dateKey);\n  };\n\n  // Funciones para los botones de navegación\n  const scrollLeftFunc = () => {\n    const scrollContainer = scrollContainerRef.current;\n    if (scrollContainer) {\n      const dayCardWidth = scrollContainer.clientWidth / getDaysPerView();\n      scrollContainer.scrollBy({\n        left: -dayCardWidth,\n        behavior: 'smooth'\n      });\n    }\n  };\n  const scrollRightFunc = () => {\n    const scrollContainer = scrollContainerRef.current;\n    if (scrollContainer) {\n      const dayCardWidth = scrollContainer.clientWidth / getDaysPerView();\n      scrollContainer.scrollBy({\n        left: dayCardWidth,\n        behavior: 'smooth'\n      });\n    }\n  };\n\n  // Manejo de filtros\n  const handleFilterChange = (selectedOption, filterType) => {\n    setFilters(prevFilters => ({\n      ...prevFilters,\n      [filterType]: selectedOption ? selectedOption.value : null\n    }));\n  };\n\n  // Manejo del cambio de fecha en el semáforo\n  const handleSemaforoDateChange = e => {\n    const selectedDate = new Date(e.target.value + 'T00:00:00');\n    setSelectedSemaforoDate(selectedDate);\n  };\n\n  // Función para generar informes en PDF\n  const generatePDFReport = () => {\n    if (!reportStartDate || !reportEndDate) {\n      alert('Por favor, seleccione una fecha de inicio y una fecha de fin para el informe.');\n      return;\n    }\n    let filteredServices = [];\n\n    // Filtrar servicios dentro del rango de fechas seleccionado\n    for (let dateKey in services) {\n      const [year, month, day] = dateKey.split('-').map(Number);\n      const serviceDate = new Date(year, month - 1, day);\n      if (serviceDate >= reportStartDate && serviceDate <= reportEndDate) {\n        filteredServices = filteredServices.concat(services[dateKey]);\n      }\n    }\n\n    // Aplicar filtro adicional (cliente, chofer o móvil)\n    if (reportFilterValue) {\n      filteredServices = filteredServices.filter(service => {\n        if (reportFilterType === 'cliente') {\n          return service.cliente === reportFilterValue;\n        } else if (reportFilterType === 'chofer') {\n          return service.unidades.some(unidad => unidad.choferes.includes(reportFilterValue));\n        } else if (reportFilterType === 'movil') {\n          return service.unidades.some(unidad => unidad.movil === reportFilterValue);\n        }\n        return true;\n      });\n    }\n    if (filteredServices.length === 0) {\n      alert('No se encontraron servicios en el rango de fechas seleccionado.');\n      return;\n    }\n\n    // Generar el PDF\n    const doc = new jsPDF();\n    doc.setFontSize(18);\n    doc.text(`Informe desde ${reportStartDate.toLocaleDateString()} hasta ${reportEndDate.toLocaleDateString()}`, 14, 22);\n    const tableColumn = [\"Fecha\", \"Cliente\", \"Servicio\", \"Unidades\", \"Origen\", \"Destino\", \"Horario\", \"Observaciones\"];\n    const tableRows = [];\n    filteredServices.forEach(service => {\n      const serviceDate = `${service.day}/${service.month}/${service.year}`;\n      const unidades = service.unidades.map(unidad => {\n        const movil = `Móvil: ${unidad.movil}`;\n        const choferes = unidad.choferes.filter(Boolean).map(chofer => `Chofer: ${chofer}`).join(\", \");\n        return `${movil}, ${choferes}`;\n      }).join(\" | \");\n      const rowData = [serviceDate, service.cliente, service.servicio, unidades, service.origen, service.destino, service.horario, service.observaciones];\n      tableRows.push(rowData);\n    });\n    doc.autoTable({\n      head: [tableColumn],\n      body: tableRows,\n      startY: 30,\n      styles: {\n        fontSize: 10\n      },\n      columnStyles: {\n        3: {\n          cellWidth: 'auto'\n        } // \"Unidades\" column\n      }\n    });\n    doc.save(`informe_${reportStartDate.toLocaleDateString()}_al_${reportEndDate.toLocaleDateString()}.pdf`);\n  };\n  const handleLogin = password => {\n    const correctPassword = 'admin123'; // Reemplaza con la contraseña deseada\n    if (password === correctPassword) {\n      setIsAuthenticated(true);\n      setShowLoginForm(false);\n    } else {\n      alert('Contraseña incorrecta');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Planificaci\\xF3n de Servicios\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1028,\n        columnNumber: 17\n      }, this), !isAuthenticated && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button login-btn\",\n        onClick: () => setShowLoginForm(true),\n        children: \"Iniciar Sesi\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1030,\n        columnNumber: 21\n      }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"button logout-btn\",\n        onClick: () => setIsAuthenticated(false),\n        children: \"Cerrar Sesi\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1035,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1027,\n      columnNumber: 13\n    }, this), showLoginForm && /*#__PURE__*/_jsxDEV(LoginForm, {\n      handleLogin: handleLogin,\n      setShowLoginForm: setShowLoginForm\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1042,\n      columnNumber: 17\n    }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tabs-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'planificador' ? 'active' : ''}`,\n        onClick: () => setActiveTab('planificador'),\n        children: \"\\uD83D\\uDCC5 Planificador\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1051,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'recursos' ? 'active' : ''}`,\n        onClick: () => setActiveTab('recursos'),\n        children: \"\\uD83D\\uDE90 Gesti\\xF3n de Recursos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1057,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'administracion' ? 'active' : ''}`,\n        onClick: () => setActiveTab('administracion'),\n        children: \"\\uD83D\\uDDD1\\uFE0F Administraci\\xF3n de Datos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1063,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1050,\n      columnNumber: 17\n    }, this), activeTab === 'recursos' && isAuthenticated && /*#__PURE__*/_jsxDEV(GestionRecursos, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1074,\n      columnNumber: 17\n    }, this), activeTab === 'administracion' && isAuthenticated && /*#__PURE__*/_jsxDEV(AdministracionDatos, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1078,\n      columnNumber: 17\n    }, this), (!isAuthenticated || activeTab === 'planificador') && !showForm && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"month-viewing\",\n        children: [\"Visualizando: \", displayedMonthName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1084,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"controls-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"month-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"monthSelector\",\n            children: \"Ir al mes: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1089,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"monthSelector\",\n            onChange: jumpToMonth,\n            value: viewedMonthIndex,\n            children: monthsOfYear.map((monthName, i) => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: i,\n              children: monthName\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1092,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1090,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1088,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filters\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Filtrar por Chofer:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1102,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              options: choferesOptions,\n              onChange: option => handleFilterChange(option, 'chofer'),\n              isClearable: true,\n              placeholder: \"Seleccione un chofer...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1103,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1101,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Filtrar por M\\xF3vil:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1111,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(Select, {\n              options: movilesOptions,\n              onChange: option => handleFilterChange(option, 'movil'),\n              isClearable: true,\n              placeholder: \"Seleccione un m\\xF3vil...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1112,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1110,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1100,\n          columnNumber: 25\n        }, this), isAuthenticated && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"semaforo-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"semaforo-date-selector\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Seleccionar fecha para disponibilidad:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1126,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: formatDateForInput(selectedSemaforoDate),\n                onChange: handleSemaforoDateChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1127,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1125,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Semaforo, {\n              selectedDate: selectedSemaforoDate,\n              choferesList: choferesList,\n              movilesList: movilesList,\n              services: services\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1133,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"report-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Generar informe:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1143,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"report-date-selectors\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Fecha de inicio:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1145,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: reportStartDate ? formatDateForInput(reportStartDate) : '',\n                onChange: e => setReportStartDate(new Date(e.target.value + 'T00:00:00'))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1146,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Fecha de fin:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1151,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"date\",\n                value: reportEndDate ? formatDateForInput(reportEndDate) : '',\n                onChange: e => setReportEndDate(new Date(e.target.value + 'T23:59:59'))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1152,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1144,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: reportFilterType,\n              onChange: e => {\n                setReportFilterType(e.target.value);\n                setReportFilterValue(null);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"cliente\",\n                children: \"Por Cliente\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1160,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"chofer\",\n                children: \"Por Chofer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1161,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"movil\",\n                children: \"Por M\\xF3vil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1162,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1159,\n              columnNumber: 37\n            }, this), reportFilterType === 'cliente' && /*#__PURE__*/_jsxDEV(Select, {\n              options: [...new Set(Object.values(services).flat().map(s => s.cliente))].map(cliente => ({\n                value: cliente,\n                label: cliente\n              })),\n              onChange: option => setReportFilterValue(option ? option.value : null),\n              isClearable: true,\n              placeholder: \"Seleccione un cliente...\",\n              className: \"report-filter-select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1166,\n              columnNumber: 41\n            }, this), reportFilterType === 'chofer' && /*#__PURE__*/_jsxDEV(Select, {\n              options: choferesOptions,\n              onChange: option => setReportFilterValue(option ? option.value : null),\n              isClearable: true,\n              placeholder: \"Seleccione un chofer...\",\n              className: \"report-filter-select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1176,\n              columnNumber: 41\n            }, this), reportFilterType === 'movil' && /*#__PURE__*/_jsxDEV(Select, {\n              options: movilesOptions,\n              onChange: option => setReportFilterValue(option ? option.value : null),\n              isClearable: true,\n              placeholder: \"Seleccione un m\\xF3vil...\",\n              className: \"report-filter-select\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1186,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: generatePDFReport,\n              className: \"button report-btn\",\n              children: \"Generar Informe PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1195,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1142,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1086,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"slider-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-button left-button\",\n          onClick: scrollLeftFunc,\n          children: \"Anterior\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1203,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"days-scroll-container\",\n          className: \"days-scroll-container\",\n          ref: scrollContainerRef,\n          children: daysInYear.map(dayData => {\n            const dateKey = `${dayData.year}-${dayData.month}-${dayData.day}`;\n            const servicesForDay = services[dateKey];\n            return /*#__PURE__*/_jsxDEV(DayCard, {\n              dayData: dayData,\n              dateKey: dateKey,\n              servicesForDay: servicesForDay,\n              addService: addService,\n              setExpandedService: setExpandedService,\n              filters: filters,\n              services: services,\n              isAuthenticated: isAuthenticated\n            }, dateKey, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1212,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1207,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"nav-button right-button\",\n          onClick: scrollRightFunc,\n          children: \"Siguiente\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1227,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1202,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true), activeTab === 'planificador' && showForm && /*#__PURE__*/_jsxDEV(ServiceForm, {\n      editingService: editingService,\n      formData: formData,\n      setFormData: setFormData,\n      addUnidad: addUnidad,\n      handleInputChange: handleInputChange,\n      handleArrayInputChange: handleArrayInputChange,\n      handleChoferInputChange: handleChoferInputChange,\n      saveService: saveService,\n      updateService: updateService,\n      setShowForm: setShowForm,\n      setEditingService: setEditingService,\n      services: services,\n      showForm: showForm,\n      choferesOptions: choferesOptions,\n      movilesOptions: movilesOptions\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1236,\n      columnNumber: 17\n    }, this), activeTab === 'planificador' && expandedService && /*#__PURE__*/_jsxDEV(ServiceModal, {\n      expandedService: expandedService,\n      setExpandedService: setExpandedService,\n      editService: editService,\n      isAuthenticated: isAuthenticated,\n      deleteService: deleteService\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1257,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1026,\n    columnNumber: 9\n  }, this);\n}\n_s2(App, \"gYQMgK/TOe5625aWhVl4osarXCY=\");\n_c7 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"DayCard\");\n$RefreshReg$(_c2, \"ServiceCard\");\n$RefreshReg$(_c3, \"ServiceForm\");\n$RefreshReg$(_c4, \"ServiceModal\");\n$RefreshReg$(_c5, \"Semaforo\");\n$RefreshReg$(_c6, \"LoginForm\");\n$RefreshReg$(_c7, \"App\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useMemo","supabase","Select","jsPDF","GestionRecursos","AdministracionDatos","jsxDEV","_jsxDEV","Fragment","_Fragment","servicioOptions","value","label","color","initialFormData","cliente","servicio","unidades","movil","choferes","origen","destino","horario","observaciones","formatDateForInput","date","offset","getTimezoneOffset","localDate","Date","getTime","toISOString","split","daysOfWeek","monthsOfYear","DayCard","dayData","dateKey","servicesForDay","addService","setExpandedService","filters","services","isAuthenticated","day","month","year","dayOfWeek","getDay","formattedDate","filteredServices","filter","service","matchesChofer","chofer","some","unidad","includes","matchesMovil","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","map","index","ServiceCard","id","_c","_service$unidades","serviceOption","find","option","serviceColor","handleCardClick","style","backgroundColor","idx","Boolean","join","_c2","ServiceForm","editingService","formData","setFormData","addUnidad","handleInputChange","handleArrayInputChange","handleChoferInputChange","saveService","updateService","setShowForm","setEditingService","showForm","choferesOptions","movilesOptions","getAvailability","type","name","isOccupied","forEach","customStyles","provided","data","singleValue","removeUnidad","prevData","updatedUnidades","splice","onChange","options","selectedOption","placeholder","styles","choferValue","choferIndex","choferOption","c","_c3","ServiceModal","expandedService","editService","deleteService","_expandedService$unid","e","stopPropagation","_c4","Semaforo","selectedDate","choferesList","movilesList","getFullYear","getMonth","getDate","choferesOcupados","Set","movilesOcupados","add","choferesSemaforoOptions","has","movilesSemaforoOptions","multiValueLabel","isMulti","isClearable","_c5","LoginForm","handleLogin","setShowLoginForm","_s","password","setPassword","onSubmit","preventDefault","target","_c6","App","_s2","currentYear","currentMonth","currentDay","viewedMonthIndex","setViewedMonthIndex","setServices","setFilters","selectedSemaforoDate","setSelectedSemaforoDate","reportFilterType","setReportFilterType","reportFilterValue","setReportFilterValue","reportStartDate","setReportStartDate","reportEndDate","setReportEndDate","setIsAuthenticated","showLoginForm","activeTab","setActiveTab","setChoferesList","setMovilesList","daysInYear","rangeYears","days","daysInMonth","push","scrollContainerRef","fetchServices","servicesData","error","from","select","console","formattedServices","reduce","acc","updatedService","fetchRecursos","choferesData","choferesError","order","ascending","nombre","movilesData","movilesError","m","subscription","channel","on","event","schema","table","payload","log","oldServiceData","old","newServiceData","new","oldDateKey","newDateKey","prevServices","updatedServices","eventType","Object","keys","key","subscribe","removeChannel","scrollContainer","current","currentDayIndex","findIndex","dayCardWidth","scrollWidth","scrollTo","left","behavior","isDown","startX","scrollLeftPos","mouseDownHandler","classList","pageX","offsetLeft","scrollLeft","mouseLeaveHandler","remove","mouseUpHandler","mouseMoveHandler","x","walk","touchStartHandler","touches","touchEndHandler","touchMoveHandler","addEventListener","removeEventListener","saveServiceToDatabase","serviceData","dataToSave","insert","alert","message","updateServiceInDatabase","rest","update","eq","serviceId","window","confirm","delete","field","updatedData","item","i","unidadIndex","updatedChoferes","parseInt","jumpToMonth","selectedMonth","firstDayOfMonthIndex","clientWidth","getDaysPerView","width","innerWidth","displayedMonthName","scrollLeftFunc","scrollBy","scrollRightFunc","handleFilterChange","filterType","prevFilters","handleSemaforoDateChange","generatePDFReport","Number","serviceDate","concat","doc","setFontSize","text","toLocaleDateString","tableColumn","tableRows","rowData","autoTable","head","body","startY","fontSize","columnStyles","cellWidth","save","correctPassword","htmlFor","monthName","values","flat","s","ref","_c7","$RefreshReg$"],"sources":["C:/Users/Escritorio/Desktop/PlanificadorNB/src/App.js"],"sourcesContent":["// App.js\r\nimport React, { useState, useRef, useEffect, useMemo } from \"react\";\r\nimport { supabase } from './supabaseClient';\r\nimport \"./App.css\";\r\nimport Select from 'react-select';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport GestionRecursos from './GestionRecursos';\r\nimport AdministracionDatos from './AdministracionDatos';\r\n\r\n// Opciones de servicio con colores\r\nconst servicioOptions = [\r\n    { value: 'IN OUT', label: 'IN OUT', color: '#7FC6E7' },     // CELESTE\r\n    { value: 'SUBIDA', label: 'SUBIDA', color: '#27AE60' },     // VERDE\r\n    { value: 'BAJADA', label: 'BAJADA', color: '#EB5757' },     // ROJO\r\n    { value: 'STAND BY', label: 'STAND BY', color: '#F2C94C' }  // AMARILLO\r\n];\r\n\r\n// Datos iniciales para el formulario\r\nconst initialFormData = {\r\n    cliente: '',\r\n    servicio: null,\r\n    unidades: [{ movil: '', choferes: ['', '', ''] }],\r\n    origen: '',\r\n    destino: '',\r\n    horario: '',\r\n    observaciones: ''\r\n};\r\n\r\n// Función para formatear la fecha en YYYY-MM-DD\r\nconst formatDateForInput = (date) => {\r\n    const offset = date.getTimezoneOffset();\r\n    const localDate = new Date(date.getTime() - offset * 60 * 1000);\r\n    return localDate.toISOString().split('T')[0];\r\n};\r\n\r\n// Arrays de días de la semana y meses en español\r\nconst daysOfWeek = ['domingo', 'lunes', 'martes', 'miércoles', 'jueves', 'viernes', 'sábado'];\r\nconst monthsOfYear = [\r\n    'enero', 'febrero', 'marzo', 'abril', 'mayo', 'junio',\r\n    'julio', 'agosto', 'septiembre', 'octubre', 'noviembre', 'diciembre'\r\n];\r\n\r\n// Componentes separados\r\n\r\nconst DayCard = ({ dayData, dateKey, servicesForDay, addService, setExpandedService, filters, services, isAuthenticated }) => {\r\n    const { day, month, year } = dayData;\r\n\r\n    // Crear un objeto Date\r\n    const date = new Date(year, month - 1, day);\r\n\r\n    // Obtener el día de la semana y formatear la fecha\r\n    const dayOfWeek = daysOfWeek[date.getDay()];\r\n    const formattedDate = `${dayOfWeek} ${day}/${month}`;\r\n\r\n    // Filtrar los servicios según los filtros seleccionados\r\n    const filteredServices = servicesForDay?.filter(service => {\r\n        // Filtrar por chofer\r\n        const matchesChofer = filters.chofer ? service.unidades.some(unidad => unidad.choferes.includes(filters.chofer)) : true;\r\n        // Filtrar por móvil\r\n        const matchesMovil = filters.movil ? service.unidades.some(unidad => unidad.movil === filters.movil) : true;\r\n        return matchesChofer && matchesMovil;\r\n    });\r\n\r\n    return (\r\n        <div className=\"day-card\">\r\n            <div className=\"day-card-content\">\r\n                <h3>{formattedDate}</h3>\r\n\r\n                {isAuthenticated && (\r\n                    <button className=\"add-service-btn\" onClick={() => addService(dateKey)}>\r\n                        + Servicio\r\n                    </button>\r\n                )}\r\n\r\n                <div className=\"service-list\">\r\n                    {filteredServices && filteredServices.length > 0 && (\r\n                        <div className=\"service-list-items\">\r\n                            {filteredServices.map((service, index) => (\r\n                                <ServiceCard\r\n                                    key={service.id}\r\n                                    service={service}\r\n                                    index={index}\r\n                                    dateKey={dateKey}\r\n                                    setExpandedService={setExpandedService}\r\n                                    services={services}\r\n                                />\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ServiceCard = ({ service, setExpandedService }) => {\r\n    // Obtener el color asociado al tipo de servicio\r\n    const serviceOption = servicioOptions.find(option => option.value === service.servicio);\r\n    const serviceColor = serviceOption ? serviceOption.color : '#FFFFFF';\r\n\r\n    // Manejar el clic en la tarjeta\r\n    const handleCardClick = () => {\r\n        setExpandedService(service);\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className=\"service-card clickable\"\r\n            style={{ backgroundColor: serviceColor }}\r\n            onClick={handleCardClick}\r\n        >\r\n            {/* Cliente, Tipo de Servicio */}\r\n            <p>{service.cliente}, {serviceOption?.label}</p>\r\n\r\n            {/* Móvil (en negritas y destacado), Choferes */}\r\n            {service.unidades?.map((unidad, idx) => (\r\n                <p key={idx}>\r\n                    <strong className=\"movil-highlight\">{unidad.movil}</strong>, {unidad.choferes.filter(Boolean).join(', ')}\r\n                </p>\r\n            ))}\r\n\r\n            {/* Origen - Destino */}\r\n            <p>{service.origen} - {service.destino}</p>\r\n\r\n            {/* Horario */}\r\n            <p>{service.horario}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ServiceForm = ({\r\n    editingService,\r\n    formData,\r\n    setFormData,\r\n    addUnidad,\r\n    handleInputChange,\r\n    handleArrayInputChange,\r\n    handleChoferInputChange,\r\n    saveService,\r\n    updateService,\r\n    setShowForm,\r\n    setEditingService,\r\n    services,\r\n    showForm,\r\n    choferesOptions,\r\n    movilesOptions\r\n}) => {\r\n    // Obtener la fecha actual del formulario\r\n    const [year, month, day] = showForm.split('-');\r\n\r\n    // Función para obtener el estado de disponibilidad\r\n    const getAvailability = (type, name) => {\r\n        let isOccupied = false;\r\n        const dateKey = `${year}-${month}-${day}`;\r\n        const servicesForDay = services[dateKey] || [];\r\n        servicesForDay.forEach((service) => {\r\n            if (editingService && service.id === editingService.id) return; // Ignorar el servicio que se está editando\r\n            service.unidades.forEach((unidad) => {\r\n                if (type === 'chofer') {\r\n                    unidad.choferes.forEach((chofer) => {\r\n                        if (chofer === name) {\r\n                            isOccupied = true;\r\n                        }\r\n                    });\r\n                } else if (type === 'movil') {\r\n                    if (unidad.movil === name) {\r\n                        isOccupied = true;\r\n                    }\r\n                }\r\n            });\r\n        });\r\n        return isOccupied;\r\n    };\r\n\r\n    // Estilos para react-select\r\n    const customStyles = {\r\n        option: (provided, { data }) => ({\r\n            ...provided,\r\n            color: data.isOccupied ? 'red' : 'green',\r\n        }),\r\n        singleValue: (provided, { data }) => ({\r\n            ...provided,\r\n            color: data.isOccupied ? 'red' : 'green',\r\n        }),\r\n    };\r\n\r\n    // Función para eliminar una unidad\r\n    const removeUnidad = (index) => {\r\n        setFormData((prevData) => {\r\n            const updatedUnidades = [...prevData.unidades];\r\n            updatedUnidades.splice(index, 1);\r\n            return {\r\n                ...prevData,\r\n                unidades: updatedUnidades\r\n            };\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"form-container\">\r\n            <h4>{editingService ? \"Editar servicio\" : \"Añadir servicio\"}</h4>\r\n            <label>Cliente:</label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"cliente\"\r\n                value={formData.cliente}\r\n                onChange={handleInputChange}\r\n            />\r\n            <label>Servicio:</label>\r\n            <Select\r\n                options={servicioOptions}\r\n                onChange={(selectedOption) => setFormData({ ...formData, servicio: selectedOption.value })}\r\n                value={servicioOptions.find(option => option.value === formData.servicio)}\r\n                placeholder=\"Seleccione un servicio...\"\r\n            />\r\n\r\n            {formData.unidades.map((unidad, index) => (\r\n                <div key={index} className=\"unidad-box\">\r\n                    <label>Movil:</label>\r\n                    <Select\r\n                        options={movilesOptions.map((movil) => ({\r\n                            value: movil.value,\r\n                            label: movil.label,\r\n                            isOccupied: getAvailability('movil', movil.value),\r\n                        }))}\r\n                        styles={customStyles}\r\n                        onChange={(selectedOption) => handleArrayInputChange(selectedOption.value, index, 'movil', 'unidades')}\r\n                        value={movilesOptions.find((movil) => movil.value === unidad.movil)}\r\n                        placeholder=\"Seleccione un móvil...\"\r\n                    />\r\n                    {unidad.choferes.map((choferValue, choferIndex) => (\r\n                        <div key={choferIndex}>\r\n                            <label>{`Chofer ${choferIndex + 1}:`}</label>\r\n                            <Select\r\n                                options={choferesOptions.map((choferOption) => ({\r\n                                    value: choferOption.value,\r\n                                    label: choferOption.label,\r\n                                    isOccupied: getAvailability('chofer', choferOption.value),\r\n                                }))}\r\n                                styles={customStyles}\r\n                                onChange={(selectedOption) => handleChoferInputChange(selectedOption.value, index, choferIndex)}\r\n                                value={choferesOptions.find((c) => c.value === choferValue)}\r\n                                placeholder=\"Seleccione un chofer...\"\r\n                            />\r\n                        </div>\r\n                    ))}\r\n                    {/* Botón para eliminar unidad */}\r\n                    <button onClick={() => removeUnidad(index)} className=\"button delete-btn\">Eliminar Unidad</button>\r\n                </div>\r\n            ))}\r\n\r\n            <button onClick={addUnidad} className=\"button add-more-btn\">+ Añadir otra unidad</button>\r\n\r\n            <label>Origen:</label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"origen\"\r\n                value={formData.origen}\r\n                onChange={handleInputChange}\r\n            />\r\n            <label>Destino:</label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"destino\"\r\n                value={formData.destino}\r\n                onChange={handleInputChange}\r\n            />\r\n            <label>Horario:</label>\r\n            <input\r\n                type=\"time\"\r\n                name=\"horario\"\r\n                value={formData.horario}\r\n                onChange={handleInputChange}\r\n            />\r\n            <label>Observaciones:</label>\r\n            <input\r\n                type=\"text\"\r\n                name=\"observaciones\"\r\n                value={formData.observaciones}\r\n                onChange={handleInputChange}\r\n            />\r\n\r\n            {editingService ? (\r\n                <button onClick={updateService} className=\"button save-btn\">Actualizar Servicio</button>\r\n            ) : (\r\n                <button onClick={saveService} className=\"button save-btn\">Guardar Servicio</button>\r\n            )}\r\n            <button onClick={() => {\r\n                setShowForm(null);\r\n                setEditingService(null);\r\n                setFormData(initialFormData);\r\n            }} className=\"button cancel-btn\">Cerrar</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ServiceModal = ({ expandedService, setExpandedService, editService, isAuthenticated, deleteService }) => {\r\n    // Obtener el color asociado al tipo de servicio\r\n    const serviceOption = servicioOptions.find(option => option.value === expandedService.servicio);\r\n    const serviceColor = serviceOption ? serviceOption.color : '#FFFFFF';\r\n\r\n    // Definir dateKey aquí\r\n    const dateKey = `${expandedService.year}-${expandedService.month}-${expandedService.day}`;\r\n\r\n    return (\r\n        <div className=\"modal-backdrop\" onClick={() => setExpandedService(null)}>\r\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()} style={{ backgroundColor: serviceColor }}>\r\n                <h2>Detalles del Servicio</h2>\r\n                <p><strong>Cliente:</strong> {expandedService.cliente}</p>\r\n                <p><strong>Servicio:</strong> {serviceOption?.label}</p>\r\n                {expandedService.unidades?.map((unidad, index) => (\r\n                    <div key={index}>\r\n                        <p><strong>Móvil:</strong> <span className=\"movil-highlight-modal\">{unidad.movil}</span></p>\r\n                        {unidad.choferes.map((chofer, choferIndex) => (\r\n                            <p key={choferIndex}><strong>Chofer {choferIndex + 1}:</strong> {chofer}</p>\r\n                        ))}\r\n                    </div>\r\n                ))}\r\n                <p><strong>Origen:</strong> {expandedService.origen} - <strong>Destino:</strong> {expandedService.destino}</p>\r\n                <p><strong>Horario:</strong> {expandedService.horario}</p>\r\n                <p><strong>Observaciones:</strong> {expandedService.observaciones}</p>\r\n\r\n                {isAuthenticated && (\r\n                    <>\r\n                        <button\r\n                            className=\"button edit-btn\"\r\n                            onClick={() => {\r\n                                editService(expandedService);\r\n                                setExpandedService(null);\r\n                            }}\r\n                        >\r\n                            Editar\r\n                        </button>\r\n                        <button\r\n                            className=\"button delete-btn\"\r\n                            onClick={() => deleteService(expandedService.id, dateKey)}\r\n                        >\r\n                            Eliminar\r\n                        </button>\r\n                    </>\r\n                )}\r\n                <button className=\"button close-btn\" onClick={() => setExpandedService(null)}>\r\n                    Cerrar\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Semaforo = ({ selectedDate, choferesList, movilesList, services }) => {\r\n    // Formatear la fecha seleccionada\r\n    const year = selectedDate.getFullYear();\r\n    const month = selectedDate.getMonth() + 1; // Los meses en JavaScript van de 0 a 11\r\n    const day = selectedDate.getDate();\r\n    const dateKey = `${year}-${month}-${day}`;\r\n\r\n    const servicesForDay = services[dateKey] || [];\r\n\r\n    // Obtener listas de choferes y móviles ocupados\r\n    const choferesOcupados = new Set();\r\n    const movilesOcupados = new Set();\r\n\r\n    servicesForDay.forEach(service => {\r\n        service.unidades.forEach(unidad => {\r\n            if (unidad.movil) {\r\n                movilesOcupados.add(unidad.movil);\r\n            }\r\n            unidad.choferes.forEach(chofer => {\r\n                if (chofer) {\r\n                    choferesOcupados.add(chofer);\r\n                }\r\n            });\r\n        });\r\n    });\r\n\r\n    // Opciones para los selectores\r\n    const choferesSemaforoOptions = choferesList.map(chofer => ({\r\n        value: chofer,\r\n        label: chofer,\r\n        isOccupied: choferesOcupados.has(chofer)\r\n    }));\r\n\r\n    const movilesSemaforoOptions = movilesList.map(movil => ({\r\n        value: movil,\r\n        label: movil,\r\n        isOccupied: movilesOcupados.has(movil)\r\n    }));\r\n\r\n    // Estilos para react-select\r\n    const customStyles = {\r\n        option: (provided, { data }) => ({\r\n            ...provided,\r\n            color: data.isOccupied ? 'red' : 'green',\r\n        }),\r\n        multiValueLabel: (provided, { data }) => ({\r\n            ...provided,\r\n            color: data.isOccupied ? 'red' : 'green',\r\n        }),\r\n    };\r\n\r\n    return (\r\n        <div className=\"semaforo-dropdowns\">\r\n            <h2>Disponibilidad para {day}/{month}/{year}</h2>\r\n            <div className=\"semaforo-dropdown\">\r\n                <label>Choferes:</label>\r\n                <Select\r\n                    options={choferesSemaforoOptions}\r\n                    styles={customStyles}\r\n                    isMulti\r\n                    isClearable\r\n                    placeholder=\"Seleccione choferes...\"\r\n                />\r\n            </div>\r\n            <div className=\"semaforo-dropdown\">\r\n                <label>Móviles:</label>\r\n                <Select\r\n                    options={movilesSemaforoOptions}\r\n                    styles={customStyles}\r\n                    isMulti\r\n                    isClearable\r\n                    placeholder=\"Seleccione móviles...\"\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst LoginForm = ({ handleLogin, setShowLoginForm }) => {\r\n    const [password, setPassword] = useState('');\r\n\r\n    const onSubmit = (e) => {\r\n        e.preventDefault();\r\n        handleLogin(password);\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal-backdrop\" onClick={() => setShowLoginForm(false)}>\r\n            <div className=\"modal-content login-modal\" onClick={(e) => e.stopPropagation()}>\r\n                <h2>Iniciar Sesión</h2>\r\n                <form onSubmit={onSubmit} className=\"login-form\">\r\n                    <label>Contraseña:</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        value={password}\r\n                        onChange={(e) => setPassword(e.target.value)}\r\n                    />\r\n                    <button type=\"submit\" className=\"button login-submit-btn\">Entrar</button>\r\n                </form>\r\n                <button className=\"button close-btn\" onClick={() => setShowLoginForm(false)}>\r\n                    Cerrar\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nfunction App() {\r\n    const currentYear = new Date().getFullYear();\r\n    const currentMonth = new Date().getMonth() + 1;\r\n    const currentDay = new Date().getDate();\r\n\r\n    const [viewedMonthIndex, setViewedMonthIndex] = useState(currentMonth - 1);\r\n    const [services, setServices] = useState({});\r\n    const [showForm, setShowForm] = useState(null);\r\n    const [editingService, setEditingService] = useState(null);\r\n    const [expandedService, setExpandedService] = useState(null);\r\n    const [formData, setFormData] = useState(initialFormData);\r\n    const [filters, setFilters] = useState({ chofer: null, movil: null });\r\n    const [selectedSemaforoDate, setSelectedSemaforoDate] = useState(new Date());\r\n\r\n    const [reportFilterType, setReportFilterType] = useState('cliente');\r\n    const [reportFilterValue, setReportFilterValue] = useState(null);\r\n    const [reportStartDate, setReportStartDate] = useState(null);\r\n    const [reportEndDate, setReportEndDate] = useState(null);\r\n\r\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n    const [showLoginForm, setShowLoginForm] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('planificador'); // 'planificador', 'recursos', 'administracion'\r\n    \r\n    // Listas dinámicas de choferes y móviles\r\n    const [choferesList, setChoferesList] = useState([]);\r\n    const [movilesList, setMovilesList] = useState([]);\r\n    \r\n    // Crear opciones para react-select\r\n    const choferesOptions = choferesList.map((chofer) => ({ value: chofer, label: chofer }));\r\n    const movilesOptions = movilesList.map((movil) => ({ value: movil, label: movil }));\r\n\r\n        const daysInYear = useMemo(() => {\r\n        const rangeYears = 2; // Número de años a cubrir (año actual y próximo año)\r\n        let days = [];\r\n        for (let year = currentYear; year < currentYear + rangeYears; year++) {\r\n            for (let month = 1; month <= 12; month++) {\r\n                const daysInMonth = new Date(year, month, 0).getDate();\r\n                for (let day = 1; day <= daysInMonth; day++) {\r\n                    days.push({ day, month, year });\r\n                }\r\n            }\r\n        }\r\n        return days;\r\n    }, [currentYear]);\r\n\r\n    const scrollContainerRef = useRef(null);\r\n\r\n    const fetchServices = async () => {\r\n        const { data: servicesData, error } = await supabase\r\n            .from('services')\r\n            .select('*');\r\n        if (error) {\r\n            console.error('Error al obtener los servicios:', error);\r\n        } else {\r\n            const formattedServices = servicesData.reduce((acc, service) => {\r\n                const dateKey = `${service.year}-${service.month}-${service.day}`;\r\n\r\n                const updatedService = {\r\n                    ...service,\r\n                };\r\n\r\n                if (!acc[dateKey]) {\r\n                    acc[dateKey] = [];\r\n                }\r\n                acc[dateKey].push(updatedService);\r\n                return acc;\r\n            }, {});\r\n            setServices(formattedServices);\r\n        }\r\n    };\r\n\r\n    // Función para cargar choferes y móviles desde Supabase\r\n    const fetchRecursos = async () => {\r\n        // Cargar choferes\r\n        const { data: choferesData, error: choferesError } = await supabase\r\n            .from('choferes')\r\n            .select('nombre')\r\n            .order('nombre', { ascending: true });\r\n        \r\n        if (choferesError) {\r\n            console.error('Error al cargar choferes:', choferesError);\r\n        } else {\r\n            setChoferesList(choferesData.map(c => c.nombre));\r\n        }\r\n\r\n        // Cargar móviles\r\n        const { data: movilesData, error: movilesError } = await supabase\r\n            .from('moviles')\r\n            .select('nombre')\r\n            .order('nombre', { ascending: true });\r\n        \r\n        if (movilesError) {\r\n            console.error('Error al cargar móviles:', movilesError);\r\n        } else {\r\n            setMovilesList(movilesData.map(m => m.nombre));\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchServices();\r\n        fetchRecursos(); // Cargar choferes y móviles al iniciar\r\n\r\n        const subscription = supabase\r\n            .channel('public:services')\r\n            .on('postgres_changes', { event: '*', schema: 'public', table: 'services' }, (payload) => {\r\n                console.log('Cambio en tiempo real:', payload);\r\n                const oldServiceData = payload.old || {};\r\n                const newServiceData = payload.new || {};\r\n                const oldDateKey = `${oldServiceData.year}-${oldServiceData.month}-${oldServiceData.day}`;\r\n                const newDateKey = `${newServiceData.year}-${newServiceData.month}-${newServiceData.day}`;\r\n\r\n                setServices((prevServices) => {\r\n                    const updatedServices = { ...prevServices };\r\n                    switch (payload.eventType) {\r\n                        case 'INSERT':\r\n                            if (!updatedServices[newDateKey]) {\r\n                                updatedServices[newDateKey] = [];\r\n                            }\r\n                            updatedServices[newDateKey].push(newServiceData);\r\n                            break;\r\n                        case 'UPDATE':\r\n                            // Eliminar de todos los dateKeys posibles\r\n                            Object.keys(updatedServices).forEach(key => {\r\n                                updatedServices[key] = updatedServices[key].filter(service => service.id !== newServiceData.id);\r\n                                if (updatedServices[key].length === 0) {\r\n                                    delete updatedServices[key];\r\n                                }\r\n                            });\r\n                            // Agregar al nuevo dateKey\r\n                            if (!updatedServices[newDateKey]) {\r\n                                updatedServices[newDateKey] = [];\r\n                            }\r\n                            updatedServices[newDateKey].push(newServiceData);\r\n                            break;\r\n                        case 'DELETE':\r\n                            if (updatedServices[oldDateKey]) {\r\n                                updatedServices[oldDateKey] = updatedServices[oldDateKey].filter(service => service.id !== oldServiceData.id);\r\n                                if (updatedServices[oldDateKey].length === 0) {\r\n                                    delete updatedServices[oldDateKey];\r\n                                }\r\n                            }\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n                    return updatedServices;\r\n                });\r\n            })\r\n            .subscribe();\r\n\r\n        return () => {\r\n            supabase.removeChannel(subscription);\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // Desplazar al día actual solo al cargar la aplicación\r\n        const scrollContainer = scrollContainerRef.current;\r\n        if (scrollContainer && !showForm && !editingService && !expandedService) {\r\n            const currentDayIndex = daysInYear.findIndex(day => day.month === currentMonth && day.day === currentDay);\r\n            if (currentDayIndex !== -1) {\r\n                const dayCardWidth = scrollContainer.scrollWidth / daysInYear.length;\r\n                scrollContainer.scrollTo({\r\n                    left: currentDayIndex * dayCardWidth,\r\n                    behavior: 'smooth',\r\n                });\r\n            }\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [daysInYear, currentMonth, currentDay, showForm, editingService, expandedService]);\r\n\r\n\r\n    useEffect(() => {\r\n        const scrollContainer = scrollContainerRef.current;\r\n        if (!scrollContainer) return;\r\n\r\n        let isDown = false;\r\n        let startX;\r\n        let scrollLeftPos;\r\n\r\n        const mouseDownHandler = (e) => {\r\n            isDown = true;\r\n            scrollContainer.classList.add('active');\r\n            startX = e.pageX - scrollContainer.offsetLeft;\r\n            scrollLeftPos = scrollContainer.scrollLeft;\r\n        };\r\n\r\n        const mouseLeaveHandler = () => {\r\n            isDown = false;\r\n            scrollContainer.classList.remove('active');\r\n        };\r\n\r\n        const mouseUpHandler = () => {\r\n            isDown = false;\r\n            scrollContainer.classList.remove('active');\r\n        };\r\n\r\n        const mouseMoveHandler = (e) => {\r\n            if (!isDown) return;\r\n            e.preventDefault();\r\n            const x = e.pageX - scrollContainer.offsetLeft;\r\n            const walk = (x - startX) * 1; // Ajusta el multiplicador según la velocidad que desees\r\n            scrollContainer.scrollLeft = scrollLeftPos - walk;\r\n        };\r\n\r\n        // Manejadores para dispositivos táctiles\r\n        const touchStartHandler = (e) => {\r\n            isDown = true;\r\n            scrollContainer.classList.add('active');\r\n            startX = e.touches[0].pageX - scrollContainer.offsetLeft;\r\n            scrollLeftPos = scrollContainer.scrollLeft;\r\n        };\r\n\r\n        const touchEndHandler = () => {\r\n            isDown = false;\r\n            scrollContainer.classList.remove('active');\r\n        };\r\n\r\n        const touchMoveHandler = (e) => {\r\n            if (!isDown) return;\r\n            const x = e.touches[0].pageX - scrollContainer.offsetLeft;\r\n            const walk = (x - startX) * 1; // Ajusta el multiplicador según la velocidad que desees\r\n            scrollContainer.scrollLeft = scrollLeftPos - walk;\r\n        };\r\n\r\n        scrollContainer.addEventListener('mousedown', mouseDownHandler);\r\n        scrollContainer.addEventListener('mouseleave', mouseLeaveHandler);\r\n        scrollContainer.addEventListener('mouseup', mouseUpHandler);\r\n        scrollContainer.addEventListener('mousemove', mouseMoveHandler);\r\n\r\n        scrollContainer.addEventListener('touchstart', touchStartHandler);\r\n        scrollContainer.addEventListener('touchend', touchEndHandler);\r\n        scrollContainer.addEventListener('touchmove', touchMoveHandler);\r\n\r\n        return () => {\r\n            scrollContainer.removeEventListener('mousedown', mouseDownHandler);\r\n            scrollContainer.removeEventListener('mouseleave', mouseLeaveHandler);\r\n            scrollContainer.removeEventListener('mouseup', mouseUpHandler);\r\n            scrollContainer.removeEventListener('mousemove', mouseMoveHandler);\r\n\r\n            scrollContainer.removeEventListener('touchstart', touchStartHandler);\r\n            scrollContainer.removeEventListener('touchend', touchEndHandler);\r\n            scrollContainer.removeEventListener('touchmove', touchMoveHandler);\r\n        };\r\n    }, []);\r\n\r\n    const saveServiceToDatabase = async (serviceData) => {\r\n        const dataToSave = {\r\n            ...serviceData,\r\n        };\r\n\r\n        const { error } = await supabase\r\n            .from('services')\r\n            .insert([dataToSave]);\r\n\r\n        if (error) {\r\n            console.error('Error al guardar el servicio:', error);\r\n            alert(`Error al guardar el servicio: ${error.message}`);\r\n        } else {\r\n            alert('Servicio guardado exitosamente.');\r\n        }\r\n    };\r\n\r\n    const updateServiceInDatabase = async (serviceData) => {\r\n        const { id, ...rest } = serviceData;\r\n// eslint-disable-next-line\r\n        const { data, error } = await supabase\r\n            .from('services')\r\n            .update(rest)\r\n            .eq('id', id);\r\n            // eslint-disable-next-line\r\n        if (error) {\r\n            console.error('Error al actualizar el servicio:', error);\r\n            alert(`Error al actualizar el servicio: ${error.message}`);\r\n        } else {\r\n            alert('Servicio actualizado exitosamente.');\r\n            // Actualizar el estado local\r\n            setServices(prevServices => {\r\n                const updatedServices = { ...prevServices };\r\n                const dateKey = `${rest.year}-${rest.month}-${rest.day}`;\r\n\r\n                // Remover el servicio de su ubicación anterior si cambió de fecha\r\n                Object.keys(updatedServices).forEach(key => {\r\n                    updatedServices[key] = updatedServices[key].filter(service => service.id !== id);\r\n                    if (updatedServices[key].length === 0) {\r\n                        delete updatedServices[key];\r\n                    }\r\n                });\r\n\r\n                // Añadir el servicio actualizado a la nueva fecha\r\n                if (!updatedServices[dateKey]) {\r\n                    updatedServices[dateKey] = [];\r\n                }\r\n                updatedServices[dateKey].push({ ...rest, id });\r\n\r\n                return updatedServices;\r\n            });\r\n        }\r\n    };\r\n\r\n    const deleteService = async (serviceId, dateKey) => {\r\n        if (!window.confirm('¿Estás seguro de que deseas eliminar este servicio?')) {\r\n            return;\r\n        }\r\n\r\n        const { error } = await supabase\r\n            .from('services')\r\n            .delete()\r\n            .eq('id', serviceId);\r\n\r\n        if (error) {\r\n            console.error('Error al eliminar el servicio:', error);\r\n            alert(`Error al eliminar el servicio: ${error.message}`);\r\n        } else {\r\n            alert('Servicio eliminado exitosamente.');\r\n            // Actualizar el estado local\r\n            setServices(prevServices => {\r\n                const updatedServices = { ...prevServices };\r\n                if (updatedServices[dateKey]) {\r\n                    updatedServices[dateKey] = updatedServices[dateKey].filter(service => service.id !== serviceId);\r\n                    if (updatedServices[dateKey].length === 0) {\r\n                        delete updatedServices[dateKey];\r\n                    }\r\n                }\r\n                return updatedServices;\r\n            });\r\n            setExpandedService(null); // Cerrar el modal después de eliminar\r\n        }\r\n    };\r\n\r\n    const addUnidad = () => {\r\n        setFormData((prevData) => ({\r\n            ...prevData,\r\n            unidades: [\r\n                ...prevData.unidades,\r\n                { movil: '', choferes: ['', '', ''] }\r\n            ]\r\n        }));\r\n    };\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData((prevData) => ({\r\n            ...prevData,\r\n            [name]: value,\r\n        }));\r\n    };\r\n\r\n    const handleArrayInputChange = (value, index, field, type) => {\r\n        const updatedData = formData[type].map((item, i) =>\r\n            i === index ? { ...item, [field]: value } : item\r\n        );\r\n        setFormData((prevData) => ({\r\n            ...prevData,\r\n            [type]: updatedData,\r\n        }));\r\n    };\r\n\r\n    const handleChoferInputChange = (value, unidadIndex, choferIndex) => {\r\n        const updatedChoferes = [...formData.unidades[unidadIndex].choferes];\r\n        updatedChoferes[choferIndex] = value;\r\n        const updatedUnidades = [...formData.unidades];\r\n        updatedUnidades[unidadIndex].choferes = updatedChoferes;\r\n        setFormData((prevData) => ({\r\n            ...prevData,\r\n            unidades: updatedUnidades\r\n        }));\r\n    };\r\n\r\n    const saveService = () => {\r\n        if (!showForm) return; // Prevent if no dateKey\r\n\r\n        const [year, month, day] = showForm.split('-');\r\n        const serviceData = {\r\n            ...formData,\r\n            year: parseInt(year),\r\n            month: parseInt(month),\r\n            day: parseInt(day),\r\n        };\r\n        saveServiceToDatabase(serviceData);\r\n        setShowForm(null);\r\n        setFormData(initialFormData);\r\n    };\r\n\r\n    const updateService = () => {\r\n        const serviceData = {\r\n            ...formData,\r\n            id: editingService.id,\r\n        };\r\n        updateServiceInDatabase(serviceData);\r\n        setShowForm(null);\r\n        setEditingService(null);\r\n        setFormData(initialFormData);\r\n    };\r\n\r\n    const editService = (service) => {\r\n        setFormData({\r\n            cliente: service.cliente,\r\n            servicio: service.servicio,\r\n            unidades: service.unidades,\r\n            origen: service.origen,\r\n            destino: service.destino,\r\n            horario: service.horario,\r\n            observaciones: service.observaciones,\r\n            year: service.year,\r\n            month: service.month,\r\n            day: service.day,\r\n        });\r\n        setEditingService(service);\r\n        setShowForm(`${service.year}-${service.month}-${service.day}`);\r\n    };\r\n\r\n    const jumpToMonth = (event) => {\r\n        const selectedMonth = parseInt(event.target.value, 10) + 1; // +1 porque los meses en JavaScript son 0-based\r\n        setViewedMonthIndex(selectedMonth - 1);\r\n        const firstDayOfMonthIndex = daysInYear.findIndex(day => day.month === selectedMonth && day.day === 1);\r\n        const scrollContainer = scrollContainerRef.current;\r\n        if (scrollContainer) {\r\n            const dayCardWidth = scrollContainer.clientWidth / getDaysPerView();\r\n            scrollContainer.scrollTo({\r\n                left: firstDayOfMonthIndex * dayCardWidth,\r\n                behavior: 'smooth'\r\n            });\r\n        }\r\n    };\r\n\r\n    const getDaysPerView = () => {\r\n        const width = window.innerWidth;\r\n        if (width >= 1200) return 7; // Pantallas grandes\r\n        if (width >= 768) return 5;  // Pantallas medianas\r\n        return 2;                    // Pantallas pequeñas\r\n    };\r\n\r\n    // Obtener el nombre del mes actual\r\n    const displayedMonthName = monthsOfYear[viewedMonthIndex];\r\n\r\n    const addService = (dateKey) => {\r\n        setFormData(initialFormData);\r\n        setEditingService(null);\r\n        setShowForm(dateKey);\r\n    };\r\n\r\n    // Funciones para los botones de navegación\r\n    const scrollLeftFunc = () => {\r\n        const scrollContainer = scrollContainerRef.current;\r\n        if (scrollContainer) {\r\n            const dayCardWidth = scrollContainer.clientWidth / getDaysPerView();\r\n            scrollContainer.scrollBy({\r\n                left: -dayCardWidth,\r\n                behavior: 'smooth',\r\n            });\r\n        }\r\n    };\r\n\r\n    const scrollRightFunc = () => {\r\n        const scrollContainer = scrollContainerRef.current;\r\n        if (scrollContainer) {\r\n            const dayCardWidth = scrollContainer.clientWidth / getDaysPerView();\r\n            scrollContainer.scrollBy({\r\n                left: dayCardWidth,\r\n                behavior: 'smooth',\r\n            });\r\n        }\r\n    };\r\n\r\n    // Manejo de filtros\r\n    const handleFilterChange = (selectedOption, filterType) => {\r\n        setFilters(prevFilters => ({\r\n            ...prevFilters,\r\n            [filterType]: selectedOption ? selectedOption.value : null\r\n        }));\r\n    };\r\n\r\n    // Manejo del cambio de fecha en el semáforo\r\n    const handleSemaforoDateChange = (e) => {\r\n        const selectedDate = new Date(e.target.value + 'T00:00:00');\r\n        setSelectedSemaforoDate(selectedDate);\r\n    };\r\n\r\n    // Función para generar informes en PDF\r\n    const generatePDFReport = () => {\r\n        if (!reportStartDate || !reportEndDate) {\r\n            alert('Por favor, seleccione una fecha de inicio y una fecha de fin para el informe.');\r\n            return;\r\n        }\r\n\r\n        let filteredServices = [];\r\n\r\n        // Filtrar servicios dentro del rango de fechas seleccionado\r\n        for (let dateKey in services) {\r\n            const [year, month, day] = dateKey.split('-').map(Number);\r\n            const serviceDate = new Date(year, month - 1, day);\r\n            if (serviceDate >= reportStartDate && serviceDate <= reportEndDate) {\r\n                filteredServices = filteredServices.concat(services[dateKey]);\r\n            }\r\n        }\r\n\r\n        // Aplicar filtro adicional (cliente, chofer o móvil)\r\n        if (reportFilterValue) {\r\n            filteredServices = filteredServices.filter(service => {\r\n                if (reportFilterType === 'cliente') {\r\n                    return service.cliente === reportFilterValue;\r\n                } else if (reportFilterType === 'chofer') {\r\n                    return service.unidades.some(unidad => unidad.choferes.includes(reportFilterValue));\r\n                } else if (reportFilterType === 'movil') {\r\n                    return service.unidades.some(unidad => unidad.movil === reportFilterValue);\r\n                }\r\n                return true;\r\n            });\r\n        }\r\n\r\n        if (filteredServices.length === 0) {\r\n            alert('No se encontraron servicios en el rango de fechas seleccionado.');\r\n            return;\r\n        }\r\n\r\n        // Generar el PDF\r\n        const doc = new jsPDF();\r\n        doc.setFontSize(18);\r\n        doc.text(`Informe desde ${reportStartDate.toLocaleDateString()} hasta ${reportEndDate.toLocaleDateString()}`, 14, 22);\r\n\r\n        const tableColumn = [\"Fecha\", \"Cliente\", \"Servicio\", \"Unidades\", \"Origen\", \"Destino\", \"Horario\", \"Observaciones\"];\r\n        const tableRows = [];\r\n\r\n        filteredServices.forEach(service => {\r\n            const serviceDate = `${service.day}/${service.month}/${service.year}`;\r\n            const unidades = service.unidades.map(unidad => {\r\n                const movil = `Móvil: ${unidad.movil}`;\r\n                const choferes = unidad.choferes.filter(Boolean).map(chofer => `Chofer: ${chofer}`).join(\", \");\r\n                return `${movil}, ${choferes}`;\r\n            }).join(\" | \");\r\n\r\n            const rowData = [\r\n                serviceDate,\r\n                service.cliente,\r\n                service.servicio,\r\n                unidades,\r\n                service.origen,\r\n                service.destino,\r\n                service.horario,\r\n                service.observaciones\r\n            ];\r\n            tableRows.push(rowData);\r\n        });\r\n\r\n        doc.autoTable({\r\n            head: [tableColumn],\r\n            body: tableRows,\r\n            startY: 30,\r\n            styles: { fontSize: 10 },\r\n            columnStyles: {\r\n                3: { cellWidth: 'auto' } // \"Unidades\" column\r\n            }\r\n        });\r\n        doc.save(`informe_${reportStartDate.toLocaleDateString()}_al_${reportEndDate.toLocaleDateString()}.pdf`);\r\n    };\r\n\r\n    const handleLogin = (password) => {\r\n        const correctPassword = 'admin123'; // Reemplaza con la contraseña deseada\r\n        if (password === correctPassword) {\r\n            setIsAuthenticated(true);\r\n            setShowLoginForm(false);\r\n        } else {\r\n            alert('Contraseña incorrecta');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"app-container\">\r\n            <header className=\"header\">\r\n                <h1>Planificación de Servicios</h1>\r\n                {!isAuthenticated && (\r\n                    <button className=\"button login-btn\" onClick={() => setShowLoginForm(true)}>\r\n                        Iniciar Sesión\r\n                    </button>\r\n                )}\r\n                {isAuthenticated && (\r\n                    <button className=\"button logout-btn\" onClick={() => setIsAuthenticated(false)}>\r\n                        Cerrar Sesión\r\n                    </button>\r\n                )}\r\n            </header>\r\n\r\n            {showLoginForm && (\r\n                <LoginForm\r\n                    handleLogin={handleLogin}\r\n                    setShowLoginForm={setShowLoginForm}\r\n                />\r\n            )}\r\n\r\n            {/* Sistema de pestañas - solo visible cuando está autenticado */}\r\n            {isAuthenticated && (\r\n                <div className=\"tabs-container\">\r\n                    <button \r\n                        className={`tab-button ${activeTab === 'planificador' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('planificador')}\r\n                    >\r\n                        📅 Planificador\r\n                    </button>\r\n                    <button \r\n                        className={`tab-button ${activeTab === 'recursos' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('recursos')}\r\n                    >\r\n                        🚐 Gestión de Recursos\r\n                    </button>\r\n                    <button \r\n                        className={`tab-button ${activeTab === 'administracion' ? 'active' : ''}`}\r\n                        onClick={() => setActiveTab('administracion')}\r\n                    >\r\n                        🗑️ Administración de Datos\r\n                    </button>\r\n                </div>\r\n            )}\r\n\r\n            {/* Contenido según la pestaña activa */}\r\n            {activeTab === 'recursos' && isAuthenticated && (\r\n                <GestionRecursos />\r\n            )}\r\n\r\n            {activeTab === 'administracion' && isAuthenticated && (\r\n                <AdministracionDatos />\r\n            )}\r\n\r\n            {/* Planificador - visible siempre o cuando activeTab es 'planificador' */}\r\n            {(!isAuthenticated || activeTab === 'planificador') && !showForm && (\r\n                <>\r\n                    <h2 className=\"month-viewing\">Visualizando: {displayedMonthName}</h2>\r\n\r\n                    <div className=\"controls-container\">\r\n                        {/* Selector de mes */}\r\n                        <div className=\"month-selector\">\r\n                            <label htmlFor=\"monthSelector\">Ir al mes: </label>\r\n                            <select id=\"monthSelector\" onChange={jumpToMonth} value={viewedMonthIndex}>\r\n                                {monthsOfYear.map((monthName, i) => (\r\n                                    <option key={i} value={i}>\r\n                                        {monthName}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n\r\n                        {/* Filtros */}\r\n                        <div className=\"filters\">\r\n                            <div className=\"filter\">\r\n                                <label>Filtrar por Chofer:</label>\r\n                                <Select\r\n                                    options={choferesOptions}\r\n                                    onChange={(option) => handleFilterChange(option, 'chofer')}\r\n                                    isClearable\r\n                                    placeholder=\"Seleccione un chofer...\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"filter\">\r\n                                <label>Filtrar por Móvil:</label>\r\n                                <Select\r\n                                    options={movilesOptions}\r\n                                    onChange={(option) => handleFilterChange(option, 'movil')}\r\n                                    isClearable\r\n                                    placeholder=\"Seleccione un móvil...\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {isAuthenticated && (\r\n                            <>\r\n                                {/* Semáforo y selector de fecha */}\r\n                                <div className=\"semaforo-section\">\r\n                                    <div className=\"semaforo-date-selector\">\r\n                                        <label>Seleccionar fecha para disponibilidad:</label>\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            value={formatDateForInput(selectedSemaforoDate)}\r\n                                            onChange={handleSemaforoDateChange}\r\n                                        />\r\n                                    </div>\r\n                                    <Semaforo\r\n                                        selectedDate={selectedSemaforoDate}\r\n                                        choferesList={choferesList}\r\n                                        movilesList={movilesList}\r\n                                        services={services}\r\n                                    />\r\n                                </div>\r\n\r\n                                {/* Generación de informes */}\r\n                                <div className=\"report-section\">\r\n                                    <label>Generar informe:</label>\r\n                                    <div className=\"report-date-selectors\">\r\n                                        <label>Fecha de inicio:</label>\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            value={reportStartDate ? formatDateForInput(reportStartDate) : ''}\r\n                                            onChange={(e) => setReportStartDate(new Date(e.target.value + 'T00:00:00'))}\r\n                                        />\r\n                                        <label>Fecha de fin:</label>\r\n                                        <input\r\n                                            type=\"date\"\r\n                                            value={reportEndDate ? formatDateForInput(reportEndDate) : ''}\r\n                                            onChange={(e) => setReportEndDate(new Date(e.target.value + 'T23:59:59'))}\r\n                                        />\r\n                                    </div>\r\n\r\n                                    <select value={reportFilterType} onChange={(e) => { setReportFilterType(e.target.value); setReportFilterValue(null); }}>\r\n                                        <option value=\"cliente\">Por Cliente</option>\r\n                                        <option value=\"chofer\">Por Chofer</option>\r\n                                        <option value=\"movil\">Por Móvil</option>\r\n                                    </select>\r\n\r\n                                    {reportFilterType === 'cliente' && (\r\n                                        <Select\r\n                                            options={[...new Set(Object.values(services).flat().map(s => s.cliente))].map(cliente => ({ value: cliente, label: cliente }))}\r\n                                            onChange={(option) => setReportFilterValue(option ? option.value : null)}\r\n                                            isClearable\r\n                                            placeholder=\"Seleccione un cliente...\"\r\n                                            className=\"report-filter-select\"\r\n                                        />\r\n                                    )}\r\n\r\n                                    {reportFilterType === 'chofer' && (\r\n                                        <Select\r\n                                            options={choferesOptions}\r\n                                            onChange={(option) => setReportFilterValue(option ? option.value : null)}\r\n                                            isClearable\r\n                                            placeholder=\"Seleccione un chofer...\"\r\n                                            className=\"report-filter-select\"\r\n                                        />\r\n                                    )}\r\n\r\n                                    {reportFilterType === 'movil' && (\r\n                                        <Select\r\n                                            options={movilesOptions}\r\n                                            onChange={(option) => setReportFilterValue(option ? option.value : null)}\r\n                                            isClearable\r\n                                            placeholder=\"Seleccione un móvil...\"\r\n                                            className=\"report-filter-select\"\r\n                                        />\r\n                                    )}\r\n\r\n                                    <button onClick={generatePDFReport} className=\"button report-btn\">Generar Informe PDF</button>\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Botones de navegación en los extremos */}\r\n                    <div className=\"slider-container\">\r\n                        <button className=\"nav-button left-button\" onClick={scrollLeftFunc}>\r\n                            Anterior\r\n                        </button>\r\n\r\n                        <div id=\"days-scroll-container\" className=\"days-scroll-container\" ref={scrollContainerRef}>\r\n                            {daysInYear.map((dayData) => {\r\n                                const dateKey = `${dayData.year}-${dayData.month}-${dayData.day}`;\r\n                                const servicesForDay = services[dateKey];\r\n                                return (\r\n                                    <DayCard\r\n                                        key={dateKey}\r\n                                        dayData={dayData}\r\n                                        dateKey={dateKey}\r\n                                        servicesForDay={servicesForDay}\r\n                                        addService={addService}\r\n                                        setExpandedService={setExpandedService}\r\n                                        filters={filters}\r\n                                        services={services}\r\n                                        isAuthenticated={isAuthenticated}\r\n                                    />\r\n                                );\r\n                            })}\r\n                        </div>\r\n\r\n                        <button className=\"nav-button right-button\" onClick={scrollRightFunc}>\r\n                            Siguiente\r\n                        </button>\r\n                    </div>\r\n                </>\r\n            )}\r\n\r\n            {/* Formulario de servicio - solo en pestaña planificador */}\r\n            {activeTab === 'planificador' && showForm && (\r\n                <ServiceForm\r\n                    editingService={editingService}\r\n                    formData={formData}\r\n                    setFormData={setFormData}\r\n                    addUnidad={addUnidad}\r\n                    handleInputChange={handleInputChange}\r\n                    handleArrayInputChange={handleArrayInputChange}\r\n                    handleChoferInputChange={handleChoferInputChange}\r\n                    saveService={saveService}\r\n                    updateService={updateService}\r\n                    setShowForm={setShowForm}\r\n                    setEditingService={setEditingService}\r\n                    services={services}\r\n                    showForm={showForm}\r\n                    choferesOptions={choferesOptions}\r\n                    movilesOptions={movilesOptions}\r\n                />\r\n            )}\r\n\r\n            {/* Modal de servicio expandido - solo en pestaña planificador */}\r\n            {activeTab === 'planificador' && expandedService && (\r\n                <ServiceModal\r\n                    expandedService={expandedService}\r\n                    setExpandedService={setExpandedService}\r\n                    editService={editService}\r\n                    isAuthenticated={isAuthenticated}\r\n                    deleteService={deleteService}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}